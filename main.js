(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){var n=e.url,r=e.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=n,this._headers=r}var n,r;return n=t,(r=[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers}).then(this._handleResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._url,"/cards"),{method:"GET",headers:this._headers}).then(this._handleResponse)}},{key:"editUserProfile",value:function(e,t){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._handleResponse)}},{key:"editUserAvatar",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._handleResponse)}},{key:"addCard",value:function(e,t){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._handleResponse)}},{key:"addLikeCard",value:function(e){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._handleResponse)}},{key:"deleteLikeCard",value:function(e){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}}])&&e(n.prototype,r),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n,r,o,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data=t,this._name=t.name,this._link=t.link,this._like=t.likes,this._ownerId=t.owner._id,this._userId=o,this._cardSelector=n,this._imagePopup=r,this._deleteCardCallback=i,this._likeCard=a,this._isLiked=!1}var t,r;return t=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}},{key:"generateCard",value:function(){var e=this;return this._element=this._getTemplate(),this._setEventListeners(),this._image=this._element.querySelector(".card__image"),this._title=this._element.querySelector(".card__title"),this._buttonDelete=this._element.querySelector(".card__delete"),this._likeCounter=this._element.querySelector(".card__like-counter"),this._image.src=this._link,this._image.alt=this._name,this._title.textContent=this._name,this._likeCounter.textContent=this._like.length,this._userId!==this._ownerId&&this._buttonDelete.classList.add("card__delete_invisible"),this._data.likes.find((function(t){t._id===e._userId&&(e._toggleLikeCard(),e._isLiked=!0)})),this._element}},{key:"setLikeCounter",value:function(e){this._likeCounter.textContent=e}},{key:"_likeButtonHandler",value:function(){this._toggleLikeCard(),this._isLiked=!this._isLiked,this._likeCard(this._isLiked,this._data,this)}},{key:"_deleteCardElement",value:function(e){this._deleteCardCallback(e,this._data)}},{key:"_toggleLikeCard",value:function(){this._element.querySelector(".card__like").classList.toggle("card__like_active")}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".card__image").addEventListener("click",(function(){e._imagePopup({name:e._name,link:e._link})})),this._element.querySelector(".card__like").addEventListener("click",(function(){e._likeButtonHandler()})),this._element.querySelector(".card__delete").addEventListener("click",(function(t){e._deleteCardElement(t)}))}}])&&n(t.prototype,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formElement=n,this._formButton=t.formButton,this._missmatchErrorMessage=t.missmatchErrorMessage,this._buttonDisable=t.buttonDisable,this._buttonEnable=t.buttonEnable}var t,n;return t=e,(n=[{key:"enableValidation",value:function(){var e=this;this._formElement.addEventListener("submit",this._handleFormSubmit),this._formElement.addEventListener("input",(function(t){return e._handleFormInput(t)}))}},{key:"_handleFormSubmit",value:function(e){e.preventDefault()}},{key:"_handleFormInput",value:function(e){this._input=e.target,this._setCustomError(),this._setFieldError(),this.setSubmitButtonState()}},{key:"setSubmitButtonState",value:function(){var e=this._formElement.querySelector(this._formButton);this._formElement.checkValidity()?(e.classList.remove(this._buttonDisable),e.classList.add(this._buttonEnable),e.removeAttribute("disabled")):(e.classList.remove(this._buttonEnable),e.classList.add(this._buttonDisable),e.setAttribute("disabled","disabled"))}},{key:"_setCustomError",value:function(){var e=this._input.validity;if(this._input.setCustomValidity(""),e.tooShort||e.tooLong){var t=this._input.value.length,n=this._input.getAttribute("minlength");this._input.setCustomValidity("Минимальное количество символов: ".concat(n,". Длина текста сейчас: ").concat(t," символ."))}e.typeMismatch&&this._input.setCustomValidity(this._missmatchErrorMessage)}},{key:"_setFieldError",value:function(){document.querySelector("#".concat(this._input.id,"-error")).textContent=this._input.validationMessage}}])&&o(t.prototype,n),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._container=document.querySelector(n),this._renderer=o,this._items=r}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&a(t.prototype,n),e}();function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupContainer=document.querySelector(t),this._buttonClosePopup=this._popupContainer.querySelector(".popup__toggle"),this.close=this.close.bind(this),this._handleOverleyClick=this._handleOverleyClick.bind(this),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"setEventListeners",value:function(){this._buttonClosePopup.addEventListener("click",this.close),document.addEventListener("click",this._handleOverleyClick)}},{key:"removeEventListeners",value:function(){this._buttonClosePopup.removeEventListener("click",this.close),document.removeEventListener("click",this._handleOverleyClick)}},{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popupContainer.classList.add("popup_opened")}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popupContainer.classList.remove("popup_opened")}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_handleOverleyClick",value:function(e){e.target.classList.contains("popup")&&this.close()}}])&&s(t.prototype,n),e}();function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(r);if(o){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._itemImagePopupShowImage=document.querySelector(".image__item"),t._titleImagePopupShowImage=document.querySelector(".image__caption"),t}return t=a,(n=[{key:"open",value:function(e){var t=e.link,n=e.name;this._itemImagePopupShowImage.src=t,this._itemImagePopupShowImage.alt=n,this._titleImagePopupShowImage.textContent=n,h(_(a.prototype),"open",this).call(this)}}])&&f(t.prototype,n),a}(c);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._submitForm=t,n._formData=n._popupContainer.querySelector(".form__data"),n._cardList=n._formData.querySelectorAll(".form__input"),n._submitButton=n._popupContainer.querySelector(".form__button"),n}return t=a,(n=[{key:"setSubmitButtonText",value:function(e){this._submitButton.textContent=e}},{key:"close",value:function(){b(S(a.prototype),"close",this).call(this),this._formData.reset()}},{key:"_getInputValues",value:function(){var e={};return this._cardList.forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;b(S(a.prototype),"setEventListeners",this).call(this),this._formData.addEventListener("submit",(function(t){t.preventDefault(),e._submitForm(e._getInputValues())}))}}])&&v(t.prototype,n),a}(c);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return(O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(o){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return P(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._submitCallback=t,n._formData=n._popupContainer.querySelector(".form__data"),n}return t=a,(n=[{key:"close",value:function(){O(j(a.prototype),"close",this).call(this)}},{key:"setSubmitCallback",value:function(e){this._submitCallback=e}},{key:"setEventListeners",value:function(){var e=this;O(j(a.prototype),"setEventListeners",this).call(this),this._formData.addEventListener("submit",(function(t){t.preventDefault(),e._submitCallback()}))}}])&&w(t.prototype,n),a}(c);function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputName=document.querySelector(t),this._inputJob=document.querySelector(n),this._selectorAvatar=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{userName:this._inputName.textContent,userJob:this._inputJob.textContent}}},{key:"setUserInfo",value:function(e,t){this._inputName.textContent=e,this._inputJob.textContent=t}},{key:"setUserAvatar",value:function(e){this._selectorAvatar.src=e}},{key:"setUserId",value:function(e){this._userId=e}},{key:"getUserId",value:function(){return this._userId}}])&&q(t.prototype,n),e}(),T=document.querySelector(".popup_edit-profile").querySelector(".form__data"),B=document.querySelector(".popup_new-place").querySelector(".form__data"),D=document.querySelector(".popup_update-avatar").querySelector(".form__data"),x=document.querySelector(".profile"),U=x.querySelector(".profile__button-edit"),A=x.querySelector(".profile__button-add"),V=x.querySelector(".profile__overlay"),N=document.querySelector(".form__input_js_name"),F=document.querySelector(".form__input_js_job"),J=".cards__list",M={formButton:".form__button",missmatchErrorMessage:"Введите адрес сайта.",buttonDisable:"form__button_disable",buttonEnable:"form__button_enable"};function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}new i(M,T).enableValidation();var G=new i(M,B);G.enableValidation();var z=new i(M,D);z.enableValidation();var $=function(e,t){t?e.setSubmitButtonText("Сохранить"):e.setSubmitButtonText("Сохранение...")},K=function(e){return new r(e,".card-template",Z.open.bind(Z),Y.getUserId(),Q,W).generateCard()},Q=function(e,t){re.setSubmitCallback((function(){X.deleteCard(t._id).then((function(){re.close(),e.target.closest(".card").remove()})).catch((function(e){console.log(e)}))})),re.open()},W=function(e,t,n){e?X.addLikeCard(t._id).then((function(e){n.setLikeCounter(e.likes.length)})).catch((function(e){console.log(e)})):X.deleteLikeCard(t._id).then((function(e){n.setLikeCounter(e.likes.length)})).catch((function(e){console.log(e)}))},X=new t({url:"https://mesto.nomoreparties.co/v1/cohort-26",headers:{authorization:"bd92b376-a12a-4ae7-a181-e2ffac2d35f6","Content-Type":"application/json"}});Promise.all([X.getUserInfo(),X.getInitialCards()]).then((function(e){var t,n,r,o,i,a,s=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],l=s[1],f=new u({items:l,renderer:function(e){var t=K(e);f.addItem(t)}},J);f.renderItems(l.reverse()),r=c.name,o=c.about,i=c.avatar,a=c._id,Y.setUserInfo(r,o),Y.setUserId(a),i&&Y.setUserAvatar(i)})).catch((function(e){console.log(e)}));var Y=new R(".profile__name",".profile__job",".profile__image"),Z=new y(".popup_show-image"),ee=new C(".popup_edit-profile",(function(e){var t=e.user,n=e.job;$(ee,!1),X.editUserProfile(t,n).then((function(e){Y.setUserInfo(e.name,e.about),ee.close()})).catch((function(e){console.log(e)})).finally((function(){$(ee,!0)}))})),te=new C(".popup_new-place",(function(e){var t=e.place,n=e.link;$(te,!1),X.addCard(t,n).then((function(e){!function(e){var t=K(e);new u({},J).addItem(t)}(e),te.close()})).catch((function(e){console.log(e)})).finally((function(){$(te,!0)}))})),ne=new C(".popup_update-avatar",(function(e){var t=e.avatar;$(ne,!1),X.editUserAvatar(t).then((function(e){Y.setUserAvatar(e.avatar),ne.close()})).catch((function(e){console.log(e)})).finally((function(){$(te,!0)}))})),re=new I(".popup_delete-card",Q);U.addEventListener("click",(function(){var e=Y.getUserInfo();N.value=e.userName,F.value=e.userJob,ee.open()})),A.addEventListener("click",(function(){G.setSubmitButtonState(),te.open()})),V.addEventListener("click",(function(){z.setSubmitButtonState(),ne.open()})),Z.setEventListeners(),ee.setEventListeners(),te.setEventListeners(),ne.setEventListeners(),re.setEventListeners()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sIm5hbWVzIjpbIkFwaSIsInVybCIsImhlYWRlcnMiLCJ0aGlzIiwiX3VybCIsIl9oZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwibWV0aG9kIiwidGhlbiIsIl9oYW5kbGVSZXNwb25zZSIsInVzZXJOYW1lIiwidXNlckFib3V0IiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJuYW1lIiwiYWJvdXQiLCJ1c2VyQXZhdGFyIiwiYXZhdGFyIiwicGxhY2VOYW1lIiwicGxhY2VMaW5rIiwibGluayIsImNhcmRJZCIsIkNhcmQiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaW1hZ2VQb3B1cCIsInVzZXJJZCIsImRlbGV0ZUNhcmRDYWxsYmFjayIsImxpa2VDYXJkIiwiX2RhdGEiLCJfbmFtZSIsIl9saW5rIiwiX2xpa2UiLCJsaWtlcyIsIl9vd25lcklkIiwib3duZXIiLCJfaWQiLCJfdXNlcklkIiwiX2NhcmRTZWxlY3RvciIsIl9pbWFnZVBvcHVwIiwiX2RlbGV0ZUNhcmRDYWxsYmFjayIsIl9saWtlQ2FyZCIsIl9pc0xpa2VkIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2ltYWdlIiwiX3RpdGxlIiwiX2J1dHRvbkRlbGV0ZSIsIl9saWtlQ291bnRlciIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwibGVuZ3RoIiwiY2xhc3NMaXN0IiwiYWRkIiwiZmluZCIsImVsZW1lbnQiLCJfdG9nZ2xlTGlrZUNhcmQiLCJudW1iZXIiLCJldnQiLCJ0b2dnbGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2xpa2VCdXR0b25IYW5kbGVyIiwiX2RlbGV0ZUNhcmRFbGVtZW50IiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiX2Zvcm1FbGVtZW50IiwiX2Zvcm1CdXR0b24iLCJmb3JtQnV0dG9uIiwiX21pc3NtYXRjaEVycm9yTWVzc2FnZSIsIm1pc3NtYXRjaEVycm9yTWVzc2FnZSIsIl9idXR0b25EaXNhYmxlIiwiYnV0dG9uRGlzYWJsZSIsIl9idXR0b25FbmFibGUiLCJidXR0b25FbmFibGUiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtSW5wdXQiLCJwcmV2ZW50RGVmYXVsdCIsIl9pbnB1dCIsInRhcmdldCIsIl9zZXRDdXN0b21FcnJvciIsIl9zZXRGaWVsZEVycm9yIiwic2V0U3VibWl0QnV0dG9uU3RhdGUiLCJidXR0b24iLCJjaGVja1ZhbGlkaXR5IiwicmVtb3ZlIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwidmFsaWRpdHkiLCJzZXRDdXN0b21WYWxpZGl0eSIsInRvb1Nob3J0IiwidG9vTG9uZyIsImN1cnJlbnRMZW5naHQiLCJ2YWx1ZSIsIm1pbiIsImdldEF0dHJpYnV0ZSIsInR5cGVNaXNtYXRjaCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2NvbnRhaW5lciIsIl9yZW5kZXJlciIsIl9pdGVtcyIsImZvckVhY2giLCJpdGVtIiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cENvbnRhaW5lciIsIl9idXR0b25DbG9zZVBvcHVwIiwiY2xvc2UiLCJiaW5kIiwiX2hhbmRsZU92ZXJsZXlDbGljayIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwiX2l0ZW1JbWFnZVBvcHVwU2hvd0ltYWdlIiwiX3RpdGxlSW1hZ2VQb3B1cFNob3dJbWFnZSIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRGb3JtIiwiX3N1Ym1pdEZvcm0iLCJfZm9ybURhdGEiLCJfY2FyZExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3N1Ym1pdEJ1dHRvbiIsInRleHQiLCJyZXNldCIsImlucHV0VmFsdWUiLCJpbnB1dCIsIl9nZXRJbnB1dFZhbHVlcyIsIlBvcHVwV2l0aFN1Ym1pdCIsInN1Ym1pdENhbGxiYWNrIiwiX3N1Ym1pdENhbGxiYWNrIiwiY2FsbGJhY2siLCJVc2VySW5mbyIsInNlbGVjdG9yTmFtZSIsInNlbGVjdG9ySm9iIiwic2VsZWN0b3JBdmF0YXIiLCJfaW5wdXROYW1lIiwiX2lucHV0Sm9iIiwiX3NlbGVjdG9yQXZhdGFyIiwidXNlckpvYiIsImF2YXRhckxpbmsiLCJmb3JtRGF0YVByb2ZpbGVFZGl0IiwiZm9ybURhdGFOZXdQbGFjZSIsImZvcm1EYXRhQXZhdGFyIiwicHJvZmlsZVNlY3Rpb24iLCJidXR0b25PcGVuUG9wdXBQcm9maWxlRWRpdCIsImJ1dHRvbk9wZW5Qb3B1cE5ld1BsYWNlIiwiYnV0dG9uT3BlblBvcHVwQXZhdGFyIiwiaW5wdXROYW1lRm9ybVByb2ZpbGVFZGl0IiwiaW5wdXRKb2JGb3JtUHJvZmlsZUVkaXQiLCJjYXJkTGlzdCIsInZhbGlkYXRpb25Db25maWciLCJlbmFibGVWYWxpZGF0aW9uIiwicGxhY2VWYWxpZGF0aW9uIiwiYXZhdGFyVmFsaWRhdGlvbiIsInRvZ2dsZUxvYWRpbmciLCJwb3B1cCIsImlzTG9hZGVkIiwic2V0U3VibWl0QnV0dG9uVGV4dCIsImNyZWF0ZUNhcmQiLCJvcGVuIiwidXNlckluZm8iLCJnZXRVc2VySWQiLCJoYW5kbGVEZWxldGVDYXJkIiwibGlrZUNhcmRDYWxsYmFjayIsImdlbmVyYXRlQ2FyZCIsImRlbGV0ZUNhcmRQb3B1cCIsInNldFN1Ym1pdENhbGxiYWNrIiwiYXBpIiwiZGVsZXRlQ2FyZCIsImNsb3Nlc3QiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJpc0xpa2VkIiwiY2FyZCIsImFkZExpa2VDYXJkIiwiYW5zd2VyIiwic2V0TGlrZUNvdW50ZXIiLCJkZWxldGVMaWtlQ2FyZCIsImF1dGhvcml6YXRpb24iLCJhbGwiLCJnZXRVc2VySW5mbyIsImdldEluaXRpYWxDYXJkcyIsInVzZXJEYXRhIiwiaW5pdGlhbENhcmRzIiwiY2FyZFNlY3Rpb24iLCJhZGRJdGVtIiwicmVuZGVySXRlbXMiLCJyZXZlcnNlIiwic2V0VXNlckluZm8iLCJzZXRVc2VySWQiLCJzZXRVc2VyQXZhdGFyIiwiZWRpdFByb2ZpbGVQb3B1cCIsInVzZXIiLCJqb2IiLCJlZGl0VXNlclByb2ZpbGUiLCJmaW5hbGx5IiwiY3JlYXRlQ2FyZFBvcHVwIiwicGxhY2UiLCJhZGRDYXJkIiwibmV3Q2FyZCIsImNyZWF0ZUNhcmRXaXRoRm9ybSIsImVkaXRBdmF0YXJQb3B1cCIsImVkaXRVc2VyQXZhdGFyIiwicHJvZmlsZURhdGEiLCJzZXRFdmVudExpc3RlbmVycyJdLCJtYXBwaW5ncyI6IjZMQUFxQkEsRSxXQUNuQixjQUE4QixJQUFoQkMsRUFB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QlIsR0FBZ0JRLG9CQUNoQkgsR0FBZ0JHLG9CQUNoQnpDLEdBQWdCeUMscUIiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoeyB1cmwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fdXJsID0gdXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgfVxyXG4gIC8vINC+0LHRgNCw0LHQvtGC0YfQuNC6INC30LDQv9GA0L7RgdCwXHJcbiAgX2hhbmRsZVJlc3BvbnNlKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgfVxyXG4gIC8vINC30LDQv9GA0L7RgSDQtNCw0L3QvdGL0YUg0L/RgNC+0YTQuNC70Y9cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcclxuICB9XHJcbiAgLy8g0LfQsNC/0YDQvtGBINC60LDRgNGC0L7Rh9C10Log0YEg0YHQtdGA0LLQtdGA0LBcclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XHJcbiAgfVxyXG4gIC8vINC30LDQv9GA0L7RgSDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXHJcbiAgZWRpdFVzZXJQcm9maWxlKHVzZXJOYW1lLCB1c2VyQWJvdXQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IHVzZXJOYW1lLFxyXG4gICAgICAgIGFib3V0OiB1c2VyQWJvdXQsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XHJcbiAgfVxyXG4gIC8vINC30LDQv9GA0L7RgSDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINCw0LLQsNGC0LDRgNCwXHJcbiAgZWRpdFVzZXJBdmF0YXIodXNlckF2YXRhcikge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogdXNlckF2YXRhcixcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcclxuICB9XHJcbiAgLy8g0LfQsNC/0YDQvtGBINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcclxuICBhZGRDYXJkKHBsYWNlTmFtZSwgcGxhY2VMaW5rKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IHBsYWNlTmFtZSxcclxuICAgICAgICBsaW5rOiBwbGFjZUxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XHJcbiAgfVxyXG4gIC8vINC30LDQv9GA0L7RgSDQtNC+0LHQsNCy0LvQtdC90LjQtSDQu9Cw0LnQutCwXHJcbiAgYWRkTGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xyXG4gIH1cclxuICAvLyDQt9Cw0L/RgNC+0YEg0YPQtNCw0LvQtdC90LjRjyDQu9Cw0LnQutCwXHJcbiAgZGVsZXRlTGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xyXG4gIH1cclxuICAvLyDQt9Cw0L/RgNC+0YEg0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgZGF0YSxcclxuICAgIGNhcmRTZWxlY3RvcixcclxuICAgIGltYWdlUG9wdXAsXHJcbiAgICB1c2VySWQsXHJcbiAgICBkZWxldGVDYXJkQ2FsbGJhY2ssXHJcbiAgICBsaWtlQ2FyZFxyXG4gICkge1xyXG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2xpa2UgPSBkYXRhLmxpa2VzO1xyXG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW1hZ2VQb3B1cCA9IGltYWdlUG9wdXA7XHJcbiAgICB0aGlzLl9kZWxldGVDYXJkQ2FsbGJhY2sgPSBkZWxldGVDYXJkQ2FsbGJhY2s7XHJcbiAgICB0aGlzLl9saWtlQ2FyZCA9IGxpa2VDYXJkO1xyXG4gICAgdGhpcy5faXNMaWtlZCA9IGZhbHNlO1xyXG4gIH1cclxuICAvLyAg0YjQsNCx0LvQvtC9INC60LDRgNGC0L7Rh9C60LhcclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG4gIC8vICDRgdC+0LfQtNCw0L3QuNC6INC60LDRgNGC0L7Rh9C60Lgg0Lgg0L3QsNCy0LXRiNC40LLQsNC90LjQtSDQvtCx0YDQsNCx0L7RgtGH0LjQutC+0LJcclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl90aXRsZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcclxuICAgIHRoaXMuX2J1dHRvbkRlbGV0ZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGVcIik7XHJcbiAgICB0aGlzLl9saWtlQ291bnRlciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWNvdW50ZXJcIik7XHJcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX3RpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2xpa2VDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZS5sZW5ndGg7XHJcblxyXG4gICAgaWYgKHRoaXMuX3VzZXJJZCAhPT0gdGhpcy5fb3duZXJJZCkge1xyXG4gICAgICB0aGlzLl9idXR0b25EZWxldGUuY2xhc3NMaXN0LmFkZChcImNhcmRfX2RlbGV0ZV9pbnZpc2libGVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fZGF0YS5saWtlcy5maW5kKChlbGVtZW50KSA9PiB7XHJcbiAgICAgIGlmIChlbGVtZW50Ll9pZCA9PT0gdGhpcy5fdXNlcklkKSB7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlTGlrZUNhcmQoKTtcclxuICAgICAgICB0aGlzLl9pc0xpa2VkID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICAvLyDRhNGD0L3QutGG0LjRjyDQstGL0YHRgtCw0LLQu9GP0Y7RidCw0Y8g0LrQvtC70LjRh9C10YHRgtCy0L4g0LvQsNC50LrQvtCyXHJcbiAgc2V0TGlrZUNvdW50ZXIobnVtYmVyKSB7XHJcbiAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IG51bWJlcjtcclxuICB9XHJcblxyXG4gIC8vINC+0LHRgNCw0LHQvtGC0YfQuNC6INC60LvQuNC60LAg0L/QviDQu9Cw0LnQutGDXHJcbiAgX2xpa2VCdXR0b25IYW5kbGVyKCkge1xyXG4gICAgdGhpcy5fdG9nZ2xlTGlrZUNhcmQoKTtcclxuICAgIHRoaXMuX2lzTGlrZWQgPSAhdGhpcy5faXNMaWtlZDtcclxuICAgIHRoaXMuX2xpa2VDYXJkKHRoaXMuX2lzTGlrZWQsIHRoaXMuX2RhdGEsIHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgLy8gINGD0LTQsNC70LjRgtGMINC60LDRgNGC0L7Rh9C60YNcclxuICBfZGVsZXRlQ2FyZEVsZW1lbnQoZXZ0KSB7XHJcbiAgICB0aGlzLl9kZWxldGVDYXJkQ2FsbGJhY2soZXZ0LCB0aGlzLl9kYXRhKTtcclxuICB9XHJcblxyXG4gIC8vICDQu9Cw0LnQuiDQutCw0YDRgtC+0YfQutC4XHJcbiAgX3RvZ2dsZUxpa2VDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlXCIpXHJcbiAgICAgIC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZV9hY3RpdmVcIik7XHJcbiAgfVxyXG4gIC8vICDQvtCx0YDQsNCx0L7Rh9C60LjQutC4INC60LDRgNGC0L7Rh9C60LhcclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2ltYWdlUG9wdXAoeyBuYW1lOiB0aGlzLl9uYW1lLCBsaW5rOiB0aGlzLl9saW5rIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9saWtlQnV0dG9uSGFuZGxlcigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fZWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGVcIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5fZGVsZXRlQ2FyZEVsZW1lbnQoZXZ0KTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9mb3JtQnV0dG9uID0gY29uZmlnLmZvcm1CdXR0b247XHJcbiAgICB0aGlzLl9taXNzbWF0Y2hFcnJvck1lc3NhZ2UgPSBjb25maWcubWlzc21hdGNoRXJyb3JNZXNzYWdlO1xyXG4gICAgdGhpcy5fYnV0dG9uRGlzYWJsZSA9IGNvbmZpZy5idXR0b25EaXNhYmxlO1xyXG4gICAgdGhpcy5fYnV0dG9uRW5hYmxlID0gY29uZmlnLmJ1dHRvbkVuYWJsZTtcclxuICB9XHJcbiAgLy8g0YTRg9C90LrRhtC40Y8g0LLQsNC70LjQtNCw0YbQuNC4XHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCk7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2dCkgPT5cclxuICAgICAgdGhpcy5faGFuZGxlRm9ybUlucHV0KGV2dClcclxuICAgICk7XHJcbiAgfVxyXG4gIC8vINC+0YLQv9GA0LDQstC60LAg0YTQvtGA0LzRi1xyXG4gIF9oYW5kbGVGb3JtU3VibWl0KGV2dCkge1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgfVxyXG4gIC8vINCy0LDQu9C40LTQsNGG0LjRjyDQuNC90L/Rg9GC0L7QslxyXG4gIF9oYW5kbGVGb3JtSW5wdXQoZXZ0KSB7XHJcbiAgICB0aGlzLl9pbnB1dCA9IGV2dC50YXJnZXQ7XHJcblxyXG4gICAgdGhpcy5fc2V0Q3VzdG9tRXJyb3IoKTtcclxuXHJcbiAgICB0aGlzLl9zZXRGaWVsZEVycm9yKCk7XHJcblxyXG4gICAgdGhpcy5zZXRTdWJtaXRCdXR0b25TdGF0ZSgpO1xyXG4gIH1cclxuICAvLyDQsNC60YLQuNCy0LDRhtC40Y8g0LrQvdC+0L/QutC4INC+0YLQv9GA0LDQstC60LhcclxuICBzZXRTdWJtaXRCdXR0b25TdGF0ZSgpIHtcclxuICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fZm9ybUJ1dHRvbik7XHJcbiAgICBjb25zdCBpc1ZhbGlkID0gdGhpcy5fZm9ybUVsZW1lbnQuY2hlY2tWYWxpZGl0eSgpO1xyXG5cclxuICAgIGlmIChpc1ZhbGlkKSB7XHJcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2J1dHRvbkRpc2FibGUpO1xyXG4gICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9idXR0b25FbmFibGUpO1xyXG4gICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9idXR0b25FbmFibGUpO1xyXG4gICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9idXR0b25EaXNhYmxlKTtcclxuICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDQvtGC0L/RgNCw0LLQutCwINGB0L7QvtCx0YnQtdC90LjQuSDQvtCxINC+0YjQuNCx0LrQtSDQsiDQstCw0LvQuNC00LDRhtC40LhcclxuICBfc2V0Q3VzdG9tRXJyb3IoKSB7XHJcbiAgICBjb25zdCB2YWxpZGl0eSA9IHRoaXMuX2lucHV0LnZhbGlkaXR5O1xyXG5cclxuICAgIHRoaXMuX2lucHV0LnNldEN1c3RvbVZhbGlkaXR5KFwiXCIpO1xyXG5cclxuICAgIGlmICh2YWxpZGl0eS50b29TaG9ydCB8fCB2YWxpZGl0eS50b29Mb25nKSB7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRMZW5naHQgPSB0aGlzLl9pbnB1dC52YWx1ZS5sZW5ndGg7XHJcbiAgICAgIGNvbnN0IG1pbiA9IHRoaXMuX2lucHV0LmdldEF0dHJpYnV0ZShcIm1pbmxlbmd0aFwiKTtcclxuICAgICAgdGhpcy5faW5wdXQuc2V0Q3VzdG9tVmFsaWRpdHkoXHJcbiAgICAgICAgYNCc0LjQvdC40LzQsNC70YzQvdC+0LUg0LrQvtC70LjRh9C10YHRgtCy0L4g0YHQuNC80LLQvtC70L7QsjogJHttaW59LiDQlNC70LjQvdCwINGC0LXQutGB0YLQsCDRgdC10LnRh9Cw0YE6ICR7Y3VycmVudExlbmdodH0g0YHQuNC80LLQvtC7LmBcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodmFsaWRpdHkudHlwZU1pc21hdGNoKSB7XHJcbiAgICAgIHRoaXMuX2lucHV0LnNldEN1c3RvbVZhbGlkaXR5KHRoaXMuX21pc3NtYXRjaEVycm9yTWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIHNwYW4g0YEg0YHQvtC+0LHRidC10L3QuNC10Lwg0L7QsSDQvtGI0LjQsdC60LVcclxuICBfc2V0RmllbGRFcnJvcigpIHtcclxuICAgIGNvbnN0IHNwYW5FcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke3RoaXMuX2lucHV0LmlkfS1lcnJvcmApO1xyXG4gICAgc3BhbkVycm9yLnRleHRDb250ZW50ID0gdGhpcy5faW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuXHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICB9XHJcbiAgLy8g0L7RgtGA0LjRgdC+0LLQutCwINC90LDRh9Cw0LvRjNC90YvRhSDRjdC70LXQvNC10L3RgtC+0LJcclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgLy8g0LTQvtCx0LDQstC70LXQvdC40LUg0Y3Qu9C10LzQtdC90YLQsFxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9idXR0b25DbG9zZVBvcHVwID1cclxuICAgICAgdGhpcy5fcG9wdXBDb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fdG9nZ2xlXCIpO1xyXG5cclxuICAgIHRoaXMuY2xvc2UgPSB0aGlzLmNsb3NlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9oYW5kbGVPdmVybGV5Q2xpY2sgPSB0aGlzLl9oYW5kbGVPdmVybGV5Q2xpY2suYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICB9XHJcbiAgLy8g0L3QsNCy0LXRiNC40LLQsNC10Lwg0L7QsdGA0LDQsdC+0YLRh9C40LrQuCDQvdCwINC/0L7Qv9Cw0L9cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2J1dHRvbkNsb3NlUG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xvc2UpO1xyXG5cclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVPdmVybGV5Q2xpY2spO1xyXG4gIH1cclxuICAvLyDRg9C00LDQu9GP0LXQvCDQvtCx0YDQsNCx0L7RgtGH0LjQutC4INGBINC/0L7Qv9Cw0L/QsFxyXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fYnV0dG9uQ2xvc2VQb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbG9zZSk7XHJcblxyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZU92ZXJsZXlDbGljayk7XHJcbiAgfVxyXG4gIC8vINC+0YLQutGA0YvRgtGMINC/0L7Qv9Cw0L9cclxuICBvcGVuKCkge1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG5cclxuICAgIHRoaXMuX3BvcHVwQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgfVxyXG4gIC8vINC30LDQutGA0YvRgtGMINC/0L7Qv9Cw0L9cclxuICBjbG9zZSgpIHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuXHJcbiAgICB0aGlzLl9wb3B1cENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gIH1cclxuICAvLyDQt9Cw0LrRgNGL0YLRjCDQvdCw0LbQsNGC0LjQtdC8IGVzY1xyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcbiAgLy8g0LfQsNC60YDRi9GC0Ywg0L3QsNC20LDRgtC40LXQvCDQvdCwIG92ZXJsYXlcclxuICBfaGFuZGxlT3ZlcmxleUNsaWNrKGV2dCkge1xyXG4gICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBcIikpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG5cclxuICAgIHRoaXMuX2l0ZW1JbWFnZVBvcHVwU2hvd0ltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbWFnZV9faXRlbVwiKTtcclxuICAgIHRoaXMuX3RpdGxlSW1hZ2VQb3B1cFNob3dJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW1hZ2VfX2NhcHRpb25cIik7XHJcbiAgfVxyXG4gIC8vINC+0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwINC40LfQvtCx0YDQsNC20LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxyXG4gIG9wZW4oeyBsaW5rLCBuYW1lIH0pIHtcclxuICAgIHRoaXMuX2l0ZW1JbWFnZVBvcHVwU2hvd0ltYWdlLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9pdGVtSW1hZ2VQb3B1cFNob3dJbWFnZS5hbHQgPSBuYW1lO1xyXG4gICAgdGhpcy5fdGl0bGVJbWFnZVBvcHVwU2hvd0ltYWdlLnRleHRDb250ZW50ID0gbmFtZTtcclxuXHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBzdWJtaXRGb3JtKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuXHJcbiAgICB0aGlzLl9zdWJtaXRGb3JtID0gc3VibWl0Rm9ybTtcclxuICAgIHRoaXMuX2Zvcm1EYXRhID0gdGhpcy5fcG9wdXBDb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5mb3JtX19kYXRhXCIpO1xyXG4gICAgdGhpcy5fY2FyZExpc3QgPSB0aGlzLl9mb3JtRGF0YS5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0XCIpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXBDb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5mb3JtX19idXR0b25cIik7XHJcbiAgfVxyXG5cclxuICBzZXRTdWJtaXRCdXR0b25UZXh0KHRleHQpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgfVxyXG4gIC8vINC30LDQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwLCDRgdCx0YDQvtGBINC40L3Qv9GD0YLQvtCyLCDRg9C00LDQu9C10L3QuNC1INC+0LHRgNCw0LHQvtGC0YfQuNC60LBcclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtRGF0YS5yZXNldCgpO1xyXG4gIH1cclxuICAvLyDQv9C10YDQtdCx0L7RgCDQuNC90L/Rg9GC0L7QslxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGlucHV0VmFsdWUgPSB7fTtcclxuXHJcbiAgICB0aGlzLl9jYXJkTGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dFZhbHVlW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZTtcclxuICB9XHJcbiAgLy8g0L7QsdGA0LDQsdC+0YLRh9C40Logc3VibWl0YVxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm1EYXRhLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fc3VibWl0Rm9ybSh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aFN1Ym1pdCBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBzdWJtaXRDYWxsYmFjaykge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcblxyXG4gICAgdGhpcy5fc3VibWl0Q2FsbGJhY2sgPSBzdWJtaXRDYWxsYmFjaztcclxuICAgIHRoaXMuX2Zvcm1EYXRhID0gdGhpcy5fcG9wdXBDb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5mb3JtX19kYXRhXCIpO1xyXG4gIH1cclxuICAvLyDQt9Cw0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsFxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICB9XHJcbiAgLy8g0LrQvtC70LHQtdC6IHN1Ym1pdGFcclxuICBzZXRTdWJtaXRDYWxsYmFjayhjYWxsYmFjaykge1xyXG4gICAgdGhpcy5fc3VibWl0Q2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICB9XHJcbiAgLy8g0L7QsdGA0LDQsdC+0YLRh9C40Logc3VibWl0YVxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm1EYXRhLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fc3VibWl0Q2FsbGJhY2soKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3JOYW1lLCBzZWxlY3RvckpvYiwgc2VsZWN0b3JBdmF0YXIpIHtcclxuICAgIHRoaXMuX2lucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JOYW1lKTtcclxuICAgIHRoaXMuX2lucHV0Sm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvckpvYik7XHJcbiAgICB0aGlzLl9zZWxlY3RvckF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JBdmF0YXIpO1xyXG4gIH1cclxuICAvLyAg0L7QsdGK0LXQutGCINGBINC00LDQvdC90YvQvNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdXNlck5hbWU6IHRoaXMuX2lucHV0TmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgdXNlckpvYjogdGhpcy5faW5wdXRKb2IudGV4dENvbnRlbnQsXHJcbiAgICB9O1xyXG4gIH1cclxuICAvLyAg0LTQsNC90L3Ri9C1INC/0YDQvtGE0LjQu9GPINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gIHNldFVzZXJJbmZvKHVzZXJOYW1lLCB1c2VySm9iKSB7XHJcbiAgICB0aGlzLl9pbnB1dE5hbWUudGV4dENvbnRlbnQgPSB1c2VyTmFtZTtcclxuICAgIHRoaXMuX2lucHV0Sm9iLnRleHRDb250ZW50ID0gdXNlckpvYjtcclxuICB9XHJcbiAgLy8g0LTQsNC90L3Ri9C1INCw0LLQsNGC0LDRgNCwINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gIHNldFVzZXJBdmF0YXIoYXZhdGFyTGluaykge1xyXG4gICAgdGhpcy5fc2VsZWN0b3JBdmF0YXIuc3JjID0gYXZhdGFyTGluaztcclxuICB9XHJcbiAgLy8g0LTQsNC90L3Ri9C1IElEINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gIHNldFVzZXJJZCh1c2VySWQpIHtcclxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuICB9XHJcbiAgLy8gSUQg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbiAgZ2V0VXNlcklkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3VzZXJJZDtcclxuICB9XHJcbn1cclxuIiwiLy8g0LHQu9C+0LrQuCDQv9C+0L/QsNC/XHJcbmV4cG9ydCBjb25zdCBwb3B1cFByb2ZpbGVFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9lZGl0LXByb2ZpbGVcIik7XHJcbmV4cG9ydCBjb25zdCBmb3JtRGF0YVByb2ZpbGVFZGl0ID1cclxuICBwb3B1cFByb2ZpbGVFZGl0LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZGF0YVwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwb3B1cE5ld1BsYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9uZXctcGxhY2VcIik7XHJcbmV4cG9ydCBjb25zdCBmb3JtRGF0YU5ld1BsYWNlID0gcG9wdXBOZXdQbGFjZS5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2RhdGFcIik7XHJcblxyXG5leHBvcnQgY29uc3QgcG9wdXBBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3VwZGF0ZS1hdmF0YXJcIik7XHJcbmV4cG9ydCBjb25zdCBmb3JtRGF0YUF2YXRhciA9IHBvcHVwQXZhdGFyLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fZGF0YVwiKTtcclxuXHJcbi8vINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LUg0L/RgNC+0YTQuNC70Y9cclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlXCIpO1xyXG5leHBvcnQgY29uc3QgYnV0dG9uT3BlblBvcHVwUHJvZmlsZUVkaXQgPSBwcm9maWxlU2VjdGlvbi5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLnByb2ZpbGVfX2J1dHRvbi1lZGl0XCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbk9wZW5Qb3B1cE5ld1BsYWNlID0gcHJvZmlsZVNlY3Rpb24ucXVlcnlTZWxlY3RvcihcclxuICBcIi5wcm9maWxlX19idXR0b24tYWRkXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbk9wZW5Qb3B1cEF2YXRhciA9XHJcbiAgcHJvZmlsZVNlY3Rpb24ucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19vdmVybGF5XCIpO1xyXG5cclxuLy8g0LjQvdC/0YPRgtGLINGE0L7RgNC80YtcclxuZXhwb3J0IGNvbnN0IGlucHV0TmFtZUZvcm1Qcm9maWxlRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIuZm9ybV9faW5wdXRfanNfbmFtZVwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBpbnB1dEpvYkZvcm1Qcm9maWxlRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIuZm9ybV9faW5wdXRfanNfam9iXCJcclxuKTtcclxuXHJcbi8vINGB0L/QuNGB0L7QuiDQutCw0YDRgtC+0YfQtdC6XHJcbmV4cG9ydCBjb25zdCBjYXJkTGlzdCA9IFwiLmNhcmRzX19saXN0XCI7XHJcblxyXG4vLyDRgdC10LvQtdC60YLQvtGAINGI0LDQsdC70L7QvdCwINC60LDRgNGC0L7Rh9C60LhcclxuZXhwb3J0IGNvbnN0IGNhcmRTZWxlY3RvciA9IFwiLmNhcmQtdGVtcGxhdGVcIjtcclxuXHJcbi8vINC+0LHRitC10LrRgtGLINC60LvQsNGB0YHQsCDQstCw0LvQuNC00LDRhtC40LhcclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgZm9ybUJ1dHRvbjogXCIuZm9ybV9fYnV0dG9uXCIsXHJcbiAgbWlzc21hdGNoRXJyb3JNZXNzYWdlOiBcItCS0LLQtdC00LjRgtC1INCw0LTRgNC10YEg0YHQsNC50YLQsC5cIixcclxuICBidXR0b25EaXNhYmxlOiBcImZvcm1fX2J1dHRvbl9kaXNhYmxlXCIsXHJcbiAgYnV0dG9uRW5hYmxlOiBcImZvcm1fX2J1dHRvbl9lbmFibGVcIixcclxufTtcclxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjsgLy8g0LjQvNC/0L7RgNGCINCz0LvQsNCy0L3QvtCz0L4g0YTQsNC50LvQsCDRgdGC0LjQu9C10LlcclxuXHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhTdWJtaXQgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQge1xyXG4gIGZvcm1EYXRhUHJvZmlsZUVkaXQsXHJcbiAgZm9ybURhdGFOZXdQbGFjZSxcclxuICBmb3JtRGF0YUF2YXRhcixcclxuICBidXR0b25PcGVuUG9wdXBQcm9maWxlRWRpdCxcclxuICBidXR0b25PcGVuUG9wdXBOZXdQbGFjZSxcclxuICBidXR0b25PcGVuUG9wdXBBdmF0YXIsXHJcbiAgaW5wdXROYW1lRm9ybVByb2ZpbGVFZGl0LFxyXG4gIGlucHV0Sm9iRm9ybVByb2ZpbGVFZGl0LFxyXG4gIGNhcmRMaXN0LFxyXG4gIGNhcmRTZWxlY3RvcixcclxuICB2YWxpZGF0aW9uQ29uZmlnLFxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbi8vINCy0LDQu9C40LTQsNGG0LjRjyDRhNC+0YDQvFxyXG5jb25zdCBwcm9maWxlVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIHZhbGlkYXRpb25Db25maWcsXHJcbiAgZm9ybURhdGFQcm9maWxlRWRpdFxyXG4pO1xyXG5wcm9maWxlVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBwbGFjZVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtRGF0YU5ld1BsYWNlKTtcclxucGxhY2VWYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IGF2YXRhclZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtRGF0YUF2YXRhcik7XHJcbmF2YXRhclZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy8g0LjQt9C80LXQvdC10L3QuNC1INGC0LXQutGB0YLQsCDQutC90L7Qv9C60Lgg0L/RgNC4INC+0YLQv9GA0LDQstC60LUg0LfQsNC/0YDQvtGB0LAg0L3QsCDRgdC10YDQstC10YBcclxuY29uc3QgdG9nZ2xlTG9hZGluZyA9IChwb3B1cCwgaXNMb2FkZWQpID0+IHtcclxuICBpZiAoaXNMb2FkZWQpIHtcclxuICAgIHBvcHVwLnNldFN1Ym1pdEJ1dHRvblRleHQoXCLQodC+0YXRgNCw0L3QuNGC0YxcIik7XHJcbiAgfSBlbHNlIHtcclxuICAgIHBvcHVwLnNldFN1Ym1pdEJ1dHRvblRleHQoXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiKTtcclxuICB9XHJcbn07XHJcblxyXG4vLyDRgdC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNCwINC60LDRgNGC0L7Rh9C60LhcclxuY29uc3QgY3JlYXRlQ2FyZCA9IChpdGVtKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgaXRlbSxcclxuICAgIGNhcmRTZWxlY3RvcixcclxuICAgIGltYWdlUG9wdXAub3Blbi5iaW5kKGltYWdlUG9wdXApLFxyXG4gICAgdXNlckluZm8uZ2V0VXNlcklkKCksXHJcbiAgICBoYW5kbGVEZWxldGVDYXJkLFxyXG4gICAgbGlrZUNhcmRDYWxsYmFja1xyXG4gICkuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgcmV0dXJuIGNhcmQ7XHJcbn07XHJcblxyXG4vLyDRgdC+0LfQtNCw0L3QuNC1INC60LDRgNGC0L7Rh9C60Lgg0LjQtyDQv9C+0L/QsNC/0LBcclxuY29uc3QgY3JlYXRlQ2FyZFdpdGhGb3JtID0gKGl0ZW0pID0+IHtcclxuICBjb25zdCBuZXdDYXJkID0gY3JlYXRlQ2FyZChpdGVtKTtcclxuICBjb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKHt9LCBjYXJkTGlzdCk7XHJcbiAgY2FyZFNlY3Rpb24uYWRkSXRlbShuZXdDYXJkKTtcclxufTtcclxuXHJcbi8vINC60L7Qu9Cx0LXQuiDRg9C00LDQu9C10L3QuNC1INC60LDRgNGC0L7Rh9C60LhcclxuY29uc3QgaGFuZGxlRGVsZXRlQ2FyZCA9IChldnQsIGRhdGEpID0+IHtcclxuICBkZWxldGVDYXJkUG9wdXAuc2V0U3VibWl0Q2FsbGJhY2soKCkgPT4ge1xyXG4gICAgYXBpXHJcbiAgICAgIC5kZWxldGVDYXJkKGRhdGEuX2lkKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgZGVsZXRlQ2FyZFBvcHVwLmNsb3NlKCk7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZ0LnRhcmdldDtcclxuICAgICAgICB0YXJnZXQuY2xvc2VzdChcIi5jYXJkXCIpLnJlbW92ZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH0pO1xyXG4gIGRlbGV0ZUNhcmRQb3B1cC5vcGVuKCk7XHJcbn07XHJcblxyXG4vLyDQutC+0LvQsdC10Log0L/QvtGB0YLQsNC90L7QstC60Lgg0LjQu9C4INGD0LTQsNC70LXQvdC40LUg0LvQsNC50LrQsFxyXG5jb25zdCBsaWtlQ2FyZENhbGxiYWNrID0gKGlzTGlrZWQsIGRhdGEsIGNhcmQpID0+IHtcclxuICBpZiAoaXNMaWtlZCkge1xyXG4gICAgYXBpXHJcbiAgICAgIC5hZGRMaWtlQ2FyZChkYXRhLl9pZClcclxuICAgICAgLnRoZW4oKGFuc3dlcikgPT4ge1xyXG4gICAgICAgIGNhcmQuc2V0TGlrZUNvdW50ZXIoYW5zd2VyLmxpa2VzLmxlbmd0aCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGFwaVxyXG4gICAgICAuZGVsZXRlTGlrZUNhcmQoZGF0YS5faWQpXHJcbiAgICAgIC50aGVuKChhbnN3ZXIpID0+IHtcclxuICAgICAgICBjYXJkLnNldExpa2VDb3VudGVyKGFuc3dlci5saWtlcy5sZW5ndGgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbi8vINC+0LHRgNCw0LHQvtGC0YfQuNC6INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQgPSAoeyB1c2VyLCBqb2IgfSkgPT4ge1xyXG4gIHRvZ2dsZUxvYWRpbmcoZWRpdFByb2ZpbGVQb3B1cCwgZmFsc2UpO1xyXG5cclxuICBhcGlcclxuICAgIC5lZGl0VXNlclByb2ZpbGUodXNlciwgam9iKVxyXG4gICAgLnRoZW4oKGFuc3dlcikgPT4ge1xyXG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhhbnN3ZXIubmFtZSwgYW5zd2VyLmFib3V0KTtcclxuICAgICAgZWRpdFByb2ZpbGVQb3B1cC5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICB0b2dnbGVMb2FkaW5nKGVkaXRQcm9maWxlUG9wdXAsIHRydWUpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG4vLyDQvtCx0YDQsNCx0L7RgtGH0LjQuiDRgdC+0LfQtNCw0L3QuNGPINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuFxyXG5jb25zdCBoYW5kbGVDcmVhdENhcmRGb3JtU3VibWl0ID0gKHsgcGxhY2UsIGxpbmsgfSkgPT4ge1xyXG4gIHRvZ2dsZUxvYWRpbmcoY3JlYXRlQ2FyZFBvcHVwLCBmYWxzZSk7XHJcblxyXG4gIGFwaVxyXG4gICAgLmFkZENhcmQocGxhY2UsIGxpbmspXHJcbiAgICAudGhlbigobmV3Q2FyZCkgPT4ge1xyXG4gICAgICBjcmVhdGVDYXJkV2l0aEZvcm0obmV3Q2FyZCk7XHJcbiAgICAgIGNyZWF0ZUNhcmRQb3B1cC5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICB0b2dnbGVMb2FkaW5nKGNyZWF0ZUNhcmRQb3B1cCwgdHJ1ZSk7XHJcbiAgICB9KTtcclxufTtcclxuLy8g0L7QsdGA0LDQsdC+0YLRh9C40Log0LjQt9C80LXQvdC10L3QuNGPINCw0LLQsNGC0LDRgNCwXHJcbmNvbnN0IGhhbmRsZUF2YXRhckZvcm1TdWJtaXQgPSAoeyBhdmF0YXIgfSkgPT4ge1xyXG4gIHRvZ2dsZUxvYWRpbmcoZWRpdEF2YXRhclBvcHVwLCBmYWxzZSk7XHJcblxyXG4gIGNvbnN0IGVkaXRBdmF0YXJQcm9taXNlID0gYXBpLmVkaXRVc2VyQXZhdGFyKGF2YXRhcik7XHJcbiAgZWRpdEF2YXRhclByb21pc2VcclxuICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIoZGF0YS5hdmF0YXIpO1xyXG4gICAgICBlZGl0QXZhdGFyUG9wdXAuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgdG9nZ2xlTG9hZGluZyhjcmVhdGVDYXJkUG9wdXAsIHRydWUpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG4vLyDQvtGC0LrRgNGL0YLRjCDQv9C+0L/QsNC/INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cclxuY29uc3Qgb3BlblBvcHVwUHJvZmlsZSA9ICgpID0+IHtcclxuICBjb25zdCBwcm9maWxlRGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgaW5wdXROYW1lRm9ybVByb2ZpbGVFZGl0LnZhbHVlID0gcHJvZmlsZURhdGEudXNlck5hbWU7XHJcbiAgaW5wdXRKb2JGb3JtUHJvZmlsZUVkaXQudmFsdWUgPSBwcm9maWxlRGF0YS51c2VySm9iO1xyXG4gIGVkaXRQcm9maWxlUG9wdXAub3BlbigpO1xyXG59O1xyXG5cclxuLy8g0L7RgtC60YDRi9GC0Ywg0L/QvtC/0LDQvyDRgdC+0LfQtNCw0L3QuNGPINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuFxyXG5jb25zdCBvcGVuUG9wdXBOZXdQbGFjZSA9ICgpID0+IHtcclxuICBwbGFjZVZhbGlkYXRpb24uc2V0U3VibWl0QnV0dG9uU3RhdGUoKTtcclxuICBjcmVhdGVDYXJkUG9wdXAub3BlbigpO1xyXG59O1xyXG5cclxuLy8g0L7RgtC60YDRi9GC0Ywg0L/QvtC/0LDQvyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINCw0LLQsNGC0LDRgNCwXHJcbmNvbnN0IG9wZW5Qb3B1cEF2YXRhciA9ICgpID0+IHtcclxuICBhdmF0YXJWYWxpZGF0aW9uLnNldFN1Ym1pdEJ1dHRvblN0YXRlKCk7XHJcbiAgZWRpdEF2YXRhclBvcHVwLm9wZW4oKTtcclxufTtcclxuXHJcbi8vINC00LDQvdC90YvQtSDQtNC70Y8g0L7RgtC/0YDQsNCy0LrQuCDQt9Cw0L/RgNC+0YHQsCDQvdCwINGB0LXRgNCy0LXRgFxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICB1cmw6IFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0yNlwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiYmQ5MmIzNzYtYTEyYS00YWU3LWExODEtZTJmZmFjMmQzNWY2XCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbi8vINCf0L7Qu9GD0YfQsNC10Lwg0YEg0YHQtdGA0LLQtdGA0LAg0LTQsNC90L3Ri9C1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQuCDRgNC10L3QtNC10YDQuNC8INC60LDRgNGC0L7Rh9C60LhcclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKVxyXG4gIC50aGVuKChbdXNlckRhdGEsIGluaXRpYWxDYXJkc10pID0+IHtcclxuICAgIGNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAgICAgIHtcclxuICAgICAgICBpdGVtczogaW5pdGlhbENhcmRzLFxyXG4gICAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoaXRlbSk7XHJcbiAgICAgICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNhcmQpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIGNhcmRMaXN0XHJcbiAgICApO1xyXG5cclxuICAgIGNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKGluaXRpYWxDYXJkcy5yZXZlcnNlKCkpO1xyXG5cclxuICAgIGNvbnN0IHNlcnZlclVzZXJJbmZvID0gKG5hbWUsIGFib3V0LCBhdmF0YXIsIGlkKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKG5hbWUsIGFib3V0KTtcclxuICAgICAgdXNlckluZm8uc2V0VXNlcklkKGlkKTtcclxuICAgICAgaWYgKGF2YXRhcikge1xyXG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIoYXZhdGFyKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBzZXJ2ZXJVc2VySW5mbyhcclxuICAgICAgdXNlckRhdGEubmFtZSxcclxuICAgICAgdXNlckRhdGEuYWJvdXQsXHJcbiAgICAgIHVzZXJEYXRhLmF2YXRhcixcclxuICAgICAgdXNlckRhdGEuX2lkXHJcbiAgICApO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgfSk7XHJcblxyXG4vLyDQtNCw0L3QvdGL0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKFxyXG4gIFwiLnByb2ZpbGVfX25hbWVcIixcclxuICBcIi5wcm9maWxlX19qb2JcIixcclxuICBcIi5wcm9maWxlX19pbWFnZVwiXHJcbik7XHJcbi8vINC/0L7Qv9Cw0L8g0LjQt9C+0LHRgNCw0LbQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfc2hvdy1pbWFnZVwiKTtcclxuLy8g0L/QvtC/0LDQvyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IGVkaXRQcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBcIi5wb3B1cF9lZGl0LXByb2ZpbGVcIixcclxuICBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdFxyXG4pO1xyXG4vLyDQv9C+0L/QsNC/INGB0L7Qt9C00LDQvdC40Y8g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IGNyZWF0ZUNhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIFwiLnBvcHVwX25ldy1wbGFjZVwiLFxyXG4gIGhhbmRsZUNyZWF0Q2FyZEZvcm1TdWJtaXRcclxuKTtcclxuLy8g0L/QvtC/0LDQvyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINCw0LLQsNGC0LDRgNCwXHJcbmNvbnN0IGVkaXRBdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIFwiLnBvcHVwX3VwZGF0ZS1hdmF0YXJcIixcclxuICBoYW5kbGVBdmF0YXJGb3JtU3VibWl0XHJcbik7XHJcbi8vINC/0L7Qv9Cw0L8g0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IGRlbGV0ZUNhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhTdWJtaXQoXHJcbiAgXCIucG9wdXBfZGVsZXRlLWNhcmRcIixcclxuICBoYW5kbGVEZWxldGVDYXJkXHJcbik7XHJcblxyXG4vLyDRgdC70YPRiNCw0YLQtdC70Ywg0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0L/RgNC+0YTQuNC70Y9cclxuYnV0dG9uT3BlblBvcHVwUHJvZmlsZUVkaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5Qb3B1cFByb2ZpbGUpO1xyXG4vLyDRgdC70YPRiNCw0YLQtdC70Ywg0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4XHJcbmJ1dHRvbk9wZW5Qb3B1cE5ld1BsYWNlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuUG9wdXBOZXdQbGFjZSk7XHJcbi8vINGB0LvRg9GI0LDRgtC10LvRjCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDQsNCy0LDRgtCw0YDQsFxyXG5idXR0b25PcGVuUG9wdXBBdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5Qb3B1cEF2YXRhcik7XHJcblxyXG4vLyDQvdCw0LLQtdGI0LjQstCw0LXQvCDRgdC70YPRiNCw0YLQtdC70Lgg0L3QsCDQv9C+0L/QsNC/0YtcclxuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5lZGl0UHJvZmlsZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmNyZWF0ZUNhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5lZGl0QXZhdGFyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuZGVsZXRlQ2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=